- defaults:
    link:
      relink: true

- clean: ['~']

- create:
    - ~/downloads
    - ~/.vim/undo-history
    - ~/repos
    - ~/.tmux

- link:
    ~/.dotfiles: ''
    ~/.tmux.conf: tmux.conf
    ~/.tmux/tmux.remote.conf: tmux.remote.conf
    ~/.vim: vim
    ~/.vimrc: vimrc


- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [git clone 'https://github.com/tmux-plugins/tpm' ~/.tmux/plugins/tpm]
  - [tmux new -d -s __noop >/dev/null 2>&1 || true; tmux set-environment -g TMUX_PLUGIN_MANAGER_PATH "~/.tmux/plugins"; "$HOME"/.tmux/plugins/tpm/bin/install_plugins || true; tmux kill-session -t __noop >/dev/null 2>&1 || true ] 
